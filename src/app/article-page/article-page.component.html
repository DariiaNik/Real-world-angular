<div class="article-page" *ngIf="article$ | async as article">
  <div class="banner">
    <div class="container">
      <h1 class="logo">{{ article.title }}</h1>
      <div class="article-bio">
        <a class="article-image">
          <img src="{{ article.author.image }}" />
        </a>
        <div class="article-info">
          <a class="info-name">{{ article.author.username }}</a>
          <span class="info-date">{{ article.createdAt | date: 'longDate' }}</span>
        </div>
        <div class="article-btn" *ngIf="article.author.username !== user.username; else myArticle">
          <button mat-stroked-button class="btn-follow">
            <mat-icon class="icon-btn">add</mat-icon>
            <span>Follow {{ article.author.username }}</span>
          </button>
          <button mat-stroked-button class="btn-favorite">
            <mat-icon class="icon-btn">favorite</mat-icon>
            <span>Favorite articles {{ article.favoritesCount }}</span>
          </button>
        </div>
      </div>
    </div>
  </div>
  <div class="container article-body">
    <div class="article-content">
      <p>
        {{ article.body }}
      </p>
      <ul class="article-list-tags">
        <li class="article-tag pills" *ngFor="let tag of article.tagList">
          {{ tag }}
        </li>
      </ul>
    </div>
    <div class="article-bio">
      <a class="article-image">
        <img src="{{ article.author.image }}" />
      </a>
      <div class="article-info">
        <a class="info-name">{{ article.author.username }}</a>
        <span class="info-date">{{ article.createdAt | date: 'longDate' }}</span>
      </div>
      <div class="article-btn" *ngIf="article.author.username !== user.username; else myArticle">
        <button mat-stroked-button class="btn-follow">
          <mat-icon class="icon-btn">add</mat-icon>
          <span>Follow {{ article.author.username }}</span>
        </button>
        <button mat-stroked-button class="btn-favorite">
          <mat-icon class="icon-btn">favorite</mat-icon>
          <span>Favorite articles {{ article.favoritesCount }}</span>
        </button>
      </div>
    </div>
    <app-comment [slug]="article.slug"></app-comment>
  </div>

  <ng-template #myArticle>
    <div class="article-btn">
      <button mat-stroked-button class="btn-edit" [routerLink]="['/editor', article.slug]">
        <mat-icon class="icon-btn">edit</mat-icon>
        <span>Edit Article</span>
      </button>
      <button mat-stroked-button class="btn-delete" (click)="deleteArticle(article.slug)">
        <mat-icon class="icon-btn">delete</mat-icon>
        <span>Delete Article</span>
      </button>
    </div>
  </ng-template>
</div>
